<!DOCTYPE html>
<!--suppress HtmlUnknownTarget -->
<html lang="en">

{% import 'macro/control_panel/common.htm.twig' as control_panel %}
{% import 'macro/form_fields.htm.twig' as form_fields %}



{{ control_panel.iframe_start() }}

<div class="container pt-2">

    {{ control_panel.card_start("Session Details") }}
    <div class="p-3">
        <div class="form-group row">
            <label for="patientNIC" class="col-lg-3 col-form-label">Patient NIC </label>
            <input id="patientNIC" type="text" class="col-lg-9 form-control mb-2" value="PATIENT_NIC" readonly>
        </div>
        <div class="form-group row">
            <label for="date" class="col-lg-3 col-form-label">Date </label>
            <input id="date" type="text" class="col-lg-9 form-control mb-2" value="{{ "now"|date("m/d/Y") }}" readonly>
        </div>

        <button class="float-right btn btn-blue mt-4" type="button" onclick="submitForm()">
            Submit Added Prescriptions
        </button>
    </div>
    {{ control_panel.card_end() }}

    <div class="med">
        <div v-for="(medCard,index) in medCards">


        {{ control_panel.card_start("Medicine Prescription #" ~ "{{ index+1 }}") }}
            <div class="medicine-form p-3" style="margin:auto">
                <div class="form-group row">
                    <label for="medName" class="col-lg-3 col-form-label">Name </label>
                    <input type="text" class="col-lg-9 form-control mb-2" placeholder="Medicine Name"
                           v-model="medCard.name">
                </div>
                <div class="form-group row">
                    <label for="dose" class="col-lg-3 col-form-label">Dose </label>
                    <input type="text" class="col-lg-9 form-control mb-2"
                           placeholder="Dose per time (mg/ml/tablets/pills)" v-model="medCard.dose">
                </div>
                <div class="form-group row">
                    <label for="frequency" class="col-lg-3 col-form-label">Frequency </label>
                    <input type="text" class="col-lg-9 form-control mb-2" placeholder="Eg: 3 times a day"
                           v-model="medCard.frequency">
                </div>
                <div class="form-group row">
                    <label for="time" class="col-lg-3 col-form-label">Time </label>
                    <input type="text" class="col-lg-9 form-control mb-2" placeholder="Before Meal/ After Meal"
                           v-model="medCard.time">
                </div>

                <div class="form-group row">
                    <label for="comment" class="col-lg-3 col-form-label">Comment </label>
                    <input type="text" class="col-lg-9 form-control mb-2" placeholder="Comment about this medicine"
                           v-model="medCard.comment">
                </div>
            </div>
            <button class="float-right btn btn-danger m-3" type="button" id="remove-btn" @click="removeMedCard(index)">
                Remove This Prescription
            </button>
            {{ control_panel.card_end() }}

        </div>
        <button class="btn btn-green mt-4" type="button" id="add-btn" @click="addMedCard">Add Med
            Card
        </button>

    </div>


</div>

{{ control_panel.iframe_middle() }}

<!-- Vue to clone medCards-->
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.8/dist/vue.js"></script>
<script src="{{ site }}/js/create-prescription.js"></script>

{{ control_panel.iframe_end() }}
</html>